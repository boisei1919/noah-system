<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>NOAH_SYSTEM_GLITCH_FX</title>
<style>
  /* í°íŠ¸ ë¡œë“œ */
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Black+Ops+One&family=Rubik+Glitch&display=swap');

  :root {
    --bg-color: #050505;
    --term-green: #00ff41;  
    --alert-red: #ff0055;   
    --kronos-gold: #d4af37; 
    --glitch-pink: #ff00ff; 
    --ui-dim: rgba(0, 255, 65, 0.05);
  }

  * { box-sizing: border-box; }

  body {
    background-color: var(--bg-color);
    color: var(--term-green);
    font-family: 'Share Tech Mono', monospace;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    cursor: crosshair;
    -webkit-font-smoothing: antialiased;
    user-select: none;
  }

  body.loading { overflow: hidden; } 

  /* CRT ìŠ¤ìº”ë¼ì¸ */
  body::before {
    content: " ";
    display: block;
    position: fixed;
    top: 0; left: 0; width: 100vw; height: 100vh;
    background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
    background-size: 100% 2px, 3px 100%;
    pointer-events: none;
    z-index: 9999;
  }

  /* =========================================
     BOOT SEQUENCE & START
     ========================================= */
  #boot-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: #000; z-index: 99999;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    padding: 20px; transition: opacity 0.5s;
  }
  #boot-screen.hide { opacity: 0; pointer-events: none; }

  #start-btn {
    border: 2px solid var(--term-green); background: rgba(0, 255, 65, 0.1);
    color: var(--term-green); padding: 20px 40px; font-family: 'Black Ops One'; font-size: 1.5rem;
    cursor: pointer; animation: blink-border 1s infinite; margin-bottom: 20px;
  }
  #start-btn:hover { background: var(--term-green); color: black; }
  @keyframes blink-border { 0%, 100% { box-shadow: 0 0 10px var(--term-green); } 50% { box-shadow: 0 0 0 transparent; } }

  #boot-ui { display: none; width: 100%; flex-direction: column; align-items: center; }
  .boot-log-container { width: 100%; max-width: 600px; height: 200px; border: 1px solid #333; padding: 20px; margin-bottom: 20px; background: rgba(0, 20, 0, 0.8); overflow: hidden; }
  .boot-log-text { color: var(--term-green); white-space: pre-wrap; line-height: 1.5; font-size: 0.9rem; }
  .progress-container { width: 100%; max-width: 600px; height: 4px; background: #111; }
  .progress-bar { height: 100%; background: var(--term-green); width: 0%; box-shadow: 0 0 10px var(--term-green); transition: width 0.1s; }

  /* =========================================
     MODAL (POPUP) SYSTEM - ONLY FOR MARKET
     ========================================= */
  #modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
    z-index: 20000; display: none; justify-content: center; align-items: center;
    padding: 20px;
  }
  
  .modal-box {
    width: 100%; max-width: 500px;
    background: #050505; border: 2px solid var(--term-green);
    box-shadow: 0 0 30px rgba(0, 255, 65, 0.2);
    padding: 2px; transform: scale(0.9); opacity: 0; transition: all 0.2s;
  }
  .modal-box.active { transform: scale(1); opacity: 1; }

  .modal-header {
    background: var(--term-green); color: black; padding: 10px;
    font-weight: bold; font-family: 'Black Ops One'; display: flex; justify-content: space-between; align-items: center;
  }
  .modal-close { cursor: pointer; font-size: 1.5rem; line-height: 1; }
  .modal-content { padding: 20px; color: #ddd; }
  
  .modal-desc { 
    font-size: 1rem; line-height: 1.6; margin-bottom: 20px; 
    border-left: 3px solid var(--term-green); padding-left: 15px; 
    white-space: pre-wrap; /* ì¤„ë°”ê¿ˆ ì ìš© */
  }
  
  .modal-img { width: 100%; height: 200px; object-fit: contain; margin-bottom: 20px; border: 1px solid #333; image-rendering: pixelated; background: #111; }
  
  .modal-btn {
    width: 100%; padding: 15px; background: transparent; border: 1px solid var(--term-green);
    color: var(--term-green); font-family: 'Share Tech Mono'; font-size: 1.2rem; cursor: pointer;
    transition: 0.2s;
  }
  .modal-btn:hover { background: var(--term-green); color: black; }

  /* =========================================
     MAIN UI
     ========================================= */
  .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
  .glitch { animation: text-flicker 3s infinite; }
  .redacted { background: currentColor; color: transparent; transition: 0.3s; cursor: help; }
  .redacted:hover { background: transparent; color: inherit; }
  @keyframes text-flicker { 0% { opacity: 0.9; } 2% { opacity: 0.1; } 4% { opacity: 0.9; } 100% { opacity: 0.9; } }

  header { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; border-bottom: 2px solid var(--term-green); }
  .main-title { font-family: 'Rubik Glitch', cursive; font-size: 5rem; color: var(--term-green); text-shadow: 4px 4px var(--alert-red); margin: 0; }
  .lore-box { margin-top: 30px; background: var(--ui-dim); padding: 20px; border: 1px solid var(--term-green); max-width: 600px; text-align: left; }
  .noise-meter { position: absolute; bottom: 60px; right: 20px; border: 1px solid var(--alert-red); color: var(--alert-red); padding: 10px; }

  #database, #market, #security { padding: 100px 0; border-bottom: 1px dashed #333; }
  .section-header { font-family: 'Black Ops One'; font-size: 3rem; margin-bottom: 50px; border-left: 10px solid currentColor; padding-left: 20px; }
  
  .profile-grid, .market-grid, .wanted-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
  
  /* ì¹´ë“œ ìŠ¤íƒ€ì¼ */
  .file-card { 
    background: rgba(0, 20, 0, 0.4); border: 1px solid rgba(0, 255, 65, 0.3); 
    padding: 30px; position: relative; transition: 0.3s; 
  }
  .file-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,255,65,0.1); }
  .file-card.danger { border-color: var(--alert-red); color: var(--alert-red); }

  /* ì•„ì´í…œ ì¹´ë“œ (í´ë¦­ ê°€ëŠ¥) */
  .item-card { 
    background: #111; border: 1px solid #444; padding: 15px; transition: 0.2s; cursor: pointer; 
  }
  .item-card:hover { border-color: var(--kronos-gold); transform: translateY(-5px); }

  /* ì •í™”ì¡° í¬ìŠ¤í„° ìŠ¤íƒ€ì¼ */
  .poster { 
    background: #ddd; color: #111; padding: 15px; 
    transform: rotate(2deg); box-shadow: 10px 10px 20px black; transition: 0.3s;
  }
  .poster:hover { transform: scale(1.05) rotate(0deg); z-index: 10; }
  .poster:nth-child(even) { transform: rotate(-1deg); }

  .stamp { position: absolute; top: 20px; right: 20px; border: 3px solid; padding: 5px 15px; font-weight: 900; transform: rotate(-15deg); opacity: 0.7; font-size: 1.2rem; }
  .data-row { display: flex; justify-content: space-between; margin-bottom: 10px; border-bottom: 1px dashed rgba(255,255,255,0.1); padding-bottom: 5px; }

  .item-img { width: 100%; height: 250px; object-fit: contain; background: #000; margin-bottom: 15px; border: 1px solid #333; image-rendering: pixelated; }
  .mugshot { height: 200px; background: #222; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; font-size: 4rem; overflow: hidden; position: relative; }
  .liquidated { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(-30deg); font-size: 2.5rem; color: var(--alert-red); border: 5px solid var(--alert-red); padding: 10px; font-weight: 900; background: rgba(255,255,255,0.7); }

  #ip-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; display: none; flex-direction: column; justify-content: center; align-items: center; color: var(--alert-red); }
  .trace-box { border: 2px solid var(--alert-red); padding: 40px; text-align: center; width: 80%; max-width: 600px; box-shadow: 0 0 50px var(--alert-red); }
  .bar-bg { width: 100%; height: 20px; background: #300; margin: 20px 0; }
  .bar-fill { height: 100%; background: var(--alert-red); width: 0%; }

  @media (max-width: 768px) {
    .main-title { font-size: 2.5rem; }
    .profile-grid, .market-grid, .wanted-grid { grid-template-columns: 1fr; }
    header { padding: 60px 0; }
    #database, #market, #security { padding: 50px 0; }
    .noise-meter { position: relative; bottom: auto; right: auto; margin-top: 30px; width: 90%; text-align: center; background: rgba(0,0,0,0.8); }
    .poster, .poster:nth-child(even) { transform: none; margin: 0 auto; width: 100%; } 
    .poster:hover { transform: scale(1.02); }
    .modal-box { width: 95%; }
  }
</style>
</head>
<body class="loading">

  <!-- ë¶€íŒ… í™”ë©´ -->
  <div id="boot-screen">
    <button id="start-btn">INITIALIZE SYSTEM</button>
    <div id="boot-ui" style="display:none;">
      <div class="boot-log-container"><div id="boot-text" class="boot-log-text"></div></div>
      <div style="width: 100%; max-width: 600px; display:flex; justify-content:space-between; margin-bottom:5px; color: #555;">
        <span>SYSTEM LOADING...</span><span id="load-percent">0%</span>
      </div>
      <div class="progress-container"><div id="boot-bar" class="progress-bar"></div></div>
    </div>
  </div>

  <!-- ì•„ì´í…œ ì „ìš© íŒì—… -->
  <div id="modal-overlay">
    <div class="modal-box">
      <div class="modal-header">
        <span id="modal-title">TITLE</span>
        <span class="modal-close" onclick="closeModal()">X</span>
      </div>
      <div class="modal-content">
        <img id="modal-image" class="modal-img" src="" alt="Item Image" style="display:none;">
        <div id="modal-description" class="modal-desc"></div>
        <button id="modal-action-btn" class="modal-btn">PURCHASE</button>
      </div>
    </div>
  </div>

  <!-- í—¤ë” -->
  <header>
    <div class="glitch main-title" data-text="UTOPIA_COMPLEX">UTOPIA_COMPLEX</div>
    <div class="lore-box">
      > SYSTEM_BOOT_SEQUENCE...<br>
      > CONNECTING TO [NOAH_CORE]... SUCCESS.<br>
      > PROTOCOL: <span style="color:var(--alert-red)">ì ˆëŒ€ ì •ìˆ™ (SILENCE)</span><br>
      <br>"ì†Œë¦¬ë¥¼ ë‚´ëŠ” ìˆœê°„, ë„ˆëŠ” ë” ì´ìƒ ì‹œë¯¼ì´ ì•„ë‹ˆë‹¤."
    </div>
    <div class="noise-meter">NOISE: <span id="db-meter">12</span> dB</div>
  </header>

  <!-- í”„ë¡œí•„ -->
  <section id="database" class="container">
    <h2 class="section-header" style="color: var(--term-green);">PERSONNEL</h2>
    <div class="profile-grid">
      <!-- ì¥ì˜ì‚¬ -->
      <div class="file-card hover-sfx">
        <div class="stamp" style="color:var(--glitch-pink);border-color:var(--glitch-pink);">MAD DOCTOR</div>
        <h2 style="color:var(--glitch-pink);border-bottom: 2px solid var(--glitch-pink);">ID: UNDERTAKER</h2>
        <div class="data-row"><span>AFFILIATION</span> <span>Medical Sector</span></div>
        <div class="data-row"><span>WEAPON</span> <span>Chainsaw (Modified)</span></div>
        <div class="data-row"><span>HAIR</span> <span>Pink (#FF00FF)</span></div>
        <div class="data-row"><span>NOTE</span> <span>ìˆ˜ìˆ  ì„±ê³µë¥  99.9%</span></div>
        <br>
        <p style="font-size:0.9rem; opacity:0.8;">
          "ê°ì—¼ì˜ í•´ë¶€ì. ë…¼ë¦¬ íšŒë¡œ ì˜¤ë¥˜.<br>
          <span class="redacted">ë¹µì –ì†Œ</span>ì— ëŒ€í•œ ê¸°ë¬˜í•œ ì§‘ì°©(ë³´í˜¸ì ìì¹­)."
        </p>
      </div>

      <!-- ë¹µì –ì†Œ -->
      <div class="file-card danger hover-sfx">
        <div class="stamp">CLASSIFIED</div>
        <h2 style="border-bottom:2px solid var(--alert-red);">ID: BREAD_COW</h2>
        <div class="data-row"><span>SPECIES</span> <span>Mutant (Bovine)</span></div>
        <div class="data-row"><span>AGE</span> <span>2 (Bio-Age)</span></div>
        <div class="data-row"><span>RESOURCE</span> <span class="redacted">HIGH_GRADE_MILK</span></div>
        <div class="data-row"><span>STATE</span> <span>Shame / Anxiety</span></div>
        <br>
        <p style="font-size:0.9rem; opacity:0.8;">
          "ìœ í† í”¼ì•„ í¬ê·€ ìì› ìƒì‚°ì²´.<br>
          ë§¤ì›” 15ì¼ <span class="redacted">ë°œì •ê¸°</span> ë°ì´í„° ê´€ì¸¡ ë° ì°©ìœ  í•„ìš”."
        </p>
      </div>
    </div>
  </section>

  <!-- ë§ˆì¼“ -->
  <section id="market">
    <div class="container">
      <h2 class="section-header market-title">KRONOS MARKET</h2>
      <p style="margin-bottom:30px;">>> CLICK ITEM FOR DETAILS</p>
      <div class="market-grid">
        <div class="item-card interactable" 
             data-title="í™©ë„ í†µì¡°ë¦¼ (2024)" 
             data-img="https://i.ifh.cc/4RtgcR.jpg"
             data-desc="[ìƒíƒœ: ë…¹ìŠ®]
ì „ìŸ ì´ì „ ìƒì‚°ëœ ê·€í•œ ë‹¹ë¶„ ê³µê¸‰ì›.
ìº” í‘œë©´ì— ì •ì²´ë¶ˆëª…ì˜ ì ì•¡ì§ˆì´ ë¬»ì–´ìˆìœ¼ë‚˜ ë‚´ìš©ë¬¼ì€ ë©€ì©¡í•´ ë³´ì„.
íš¨ê³¼: ìŠ¤íŠ¸ë ˆìŠ¤ -10, ë³µí†µ í™•ë¥  15%."
             data-btn="PURCHASE (0.002 BTC)">
          <img src="https://i.ifh.cc/4RtgcR.jpg" class="item-img" alt="Hwangdo">
          <h3>í™©ë„ í†µì¡°ë¦¼ (2024)</h3>
          <div class="price-tag"><span class="btc">â‚¿ 0.002</span><span class="amp">ğŸ’‰ 3 AMP</span></div>
        </div>

        <div class="item-card interactable"
             data-title="MP5SD ì†ŒìŒê¸° ë¶€í’ˆ"
             data-img="https://i.ifh.cc/mj2bDQ.jpg"
             data-desc="[ì¶œì²˜: ì •í™”ì¡° ë¬´ê¸°ê³ ]
íŠ¹ìˆ˜ ì‘ì „ìš© ì†ŒìŒê¸° ë‚´ë¶€ ë°°í”Œ(Baffle).
í™”ì•½ ì°Œêº¼ê¸°ê°€ ë¬»ì–´ìˆìŒ.
ì´ê²ƒë§Œ ìˆìœ¼ë©´ ë‹¹ì‹ ë„ 'ë¬´ìŒ ì‚¬ì‚´'ì´ ê°€ëŠ¥í• ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤.
â€» ì¡°ë¦½ ì„¤ëª…ì„œ ë¯¸í¬í•¨."
             data-btn="PURCHASE (0.05 BTC)">
          <img src="https://i.ifh.cc/mj2bDQ.jpg" class="item-img" alt="Silencer">
          <h3>MP5SD ì†ŒìŒê¸° ë¶€í’ˆ</h3>
          <div class="price-tag"><span class="btc">â‚¿ 0.05</span><span class="amp">ğŸ’‰ 80 AMP</span></div>
        </div>

        <div class="item-card interactable"
             data-title="ë¶ˆíƒ„ ëª¨ë‚˜ë¦¬ì ì¡°ê°"
             data-img="https://i.ifh.cc/ocHDkt.jpg"
             data-desc="[ì§„í’ˆ ì—¬ë¶€: ë¶ˆëª…]
ë£¨ë¸Œë¥´ ë°•ë¬¼ê´€ ë¶•ê´´ í˜„ì¥ì—ì„œ íšŒìˆ˜ë˜ì—ˆë‹¤ê³  ì£¼ì¥í•˜ëŠ” ìº”ë²„ìŠ¤ ì¡°ê°.
ë¯¸ì†Œ ë¶€ë¶„ë§Œ ë‚¨ì•„ìˆì–´ ê¸°ê´´í•¨.
ë¶€ìœ ì¸µì˜ ë²™ì»¤ ì¸í…Œë¦¬ì–´ìš©ìœ¼ë¡œ ì¸ê¸°."
             data-btn="BID NOW (12.5 BTC)">
          <img src="https://i.ifh.cc/ocHDkt.jpg" class="item-img" alt="MonaLisa">
          <h3>ë¶ˆíƒ„ ëª¨ë‚˜ë¦¬ì ì¡°ê°</h3>
          <div class="price-tag"><span class="btc">â‚¿ 12.5</span><span class="amp">ğŸ’‰ 5000 AMP</span></div>
        </div>

        <div class="item-card interactable"
             data-title="ìˆ˜ìƒí•œ ì•Œì•½ (ëœë¤)"
             data-img="https://i.ifh.cc/8spTO8.jpg"
             data-desc="[ìœ„í—˜ë¬¼]
ë¬´ìŠ¨ ì•½ì¸ì§€ ì•„ë¬´ë„ ëª¨ë¦…ë‹ˆë‹¤.
í•­ìƒì œì¼ ìˆ˜ë„ ìˆê³ , ì¥ì•½ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ì¸ìƒì„ ê±´ ë„ë°•ì„ í•˜ê³  ì‹¶ë‹¤ë©´ ì¶”ì²œí•©ë‹ˆë‹¤.
ìƒì¡´ í™•ë¥ : 50%."
             data-btn="CONSUME">
          <img src="https://i.ifh.cc/8spTO8.jpg" class="item-img" alt="Pills">
          <h3>ìˆ˜ìƒí•œ ì•Œì•½ (ëœë¤)</h3>
          <div class="price-tag"><span class="btc">â‚¿ 0.0001</span><span class="amp">ğŸ’‰ 0.5 AMP</span></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ì •í™”ì¡° -->
  <section id="security">
    <div id="ip-overlay">
      <div class="trace-box">
        <h1 style="font-size: 3rem;">âš ï¸ WARNING âš ï¸</h1>
        <p>UNAUTHORIZED ACCESS DETECTED</p>
        <div class="bar-bg"><div class="bar-fill" id="trace-bar"></div></div>
        <div id="trace-text">TRACING SIGNAL... 0%</div>
        <button id="escape-btn" onclick="closeAlert()" style="display:none; margin-top:20px; padding:10px 30px; background:var(--alert-red); border:none; font-weight:bold;">ACKNOWLEDGE</button>
      </div>
    </div>
    <div class="container">
      <h2 class="section-header tank-title">PURIFICATION TANK</h2>
      
      <div class="wanted-grid">
        <div class="poster hover-sfx">
          <h2 style="text-align:center; font-family:'Black Ops One'; font-size: 2rem; margin:10px 0;">WANTED</h2>
          <div class="mugshot">ğŸ‘»</div>
          <div style="font-weight:bold;"><p>NAME: GHOST-04</p><p>CRIME: ìì› ë°€ë°˜ì¶œ</p><p>REWARD: í•­ìƒì œ 1 Box</p></div>
        </div>
        
        <div class="poster hover-sfx">
          <div class="liquidated">LIQUIDATED</div>
          <h2 style="text-align:center; font-family:'Black Ops One'; font-size: 2rem; margin:10px 0;">WANTED</h2>
          <div class="mugshot" style="background:#500;">ğŸ’€</div>
          <div style="font-weight:bold;"><p>NAME: ê¹€ì² ìˆ˜</p><p>CRIME: ì½”ê³¨ì´</p><p>STATUS: ì²˜ë¶„ ì™„ë£Œ</p></div>
        </div>
        
        <div class="poster hover-sfx">
          <h2 style="text-align:center; font-family:'Black Ops One'; font-size: 2rem; margin:10px 0;">WANTED</h2>
          <div class="mugshot">ğŸ„</div>
          <div style="font-weight:bold;"><p>TARGET: BREAD_COW</p><p>ORDER: <strong>ìƒí¬ í•„ìˆ˜</strong></p></div>
        </div>
      </div>
    </div>
  </section>

  <script>
    // AUDIO
    let audioCtx; let droneGain;
    function initAudio() {
      const AudioContext = window.AudioContext || window.webkitAudioContext;
      audioCtx = new AudioContext();
      const droneOsc = audioCtx.createOscillator(); droneGain = audioCtx.createGain();
      droneOsc.type = 'sawtooth'; droneOsc.frequency.value = 50; droneGain.gain.value = 0.05;
      droneOsc.connect(droneGain); droneGain.connect(audioCtx.destination); droneOsc.start();
    }
    function playClickSound() {
      if(!audioCtx) return;
      const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain();
      osc.type = 'sine'; osc.frequency.setValueAtTime(1200, audioCtx.currentTime);
      osc.frequency.exponentialRampToValueAtTime(600, audioCtx.currentTime + 0.1);
      gain.gain.setValueAtTime(0.1, audioCtx.currentTime); gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.1);
      osc.connect(gain); gain.connect(audioCtx.destination); osc.start(); osc.stop(audioCtx.currentTime + 0.1);
    }
    function playStaticSound() {
      if(!audioCtx) return;
      const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain();
      osc.type = 'sawtooth'; osc.frequency.value = 100;
      gain.gain.setValueAtTime(0.05, audioCtx.currentTime); gain.gain.linearRampToValueAtTime(0, audioCtx.currentTime + 0.05);
      osc.connect(gain); gain.connect(audioCtx.destination); osc.start(); osc.stop(audioCtx.currentTime + 0.05);
    }

    // ===============================================
    // ğŸ”¥ GLITCH TEXT EFFECT (HACKER EFFECT)
    // ===============================================
    const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890!@#$%^&*()_+";
    
    // ì´í™íŠ¸ë¥¼ ì ìš©í•  ìš”ì†Œë“¤ ì„ íƒ (ì œëª©, H2, H3, ë²„íŠ¼, ìŠ¤íƒ¬í”„, ë°ì´í„° ê°’ ë“±)
    const glitchTargets = document.querySelectorAll('h1, h2, h3, .modal-btn, .stamp, .data-row span, .main-title');

    glitchTargets.forEach(target => {
      target.dataset.value = target.innerText; // ì›ë˜ í…ìŠ¤íŠ¸ ì €ì¥

      target.addEventListener('mouseover', event => {
        let iterations = 0;
        
        // ê¸°ì¡´ ì¸í„°ë²Œì´ ìˆë‹¤ë©´ ì œê±° (ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€)
        if(event.target.interval) clearInterval(event.target.interval);

        const interval = setInterval(() => {
          event.target.innerText = event.target.innerText.split("")
            .map((letter, index) => {
              if(index < iterations) return event.target.dataset.value[index];
              return chars[Math.floor(Math.random() * chars.length)]
            })
            .join("");

          if(iterations >= event.target.dataset.value.length) {
            clearInterval(interval);
          }
          iterations += 1 / 2; // ì†ë„ ì¡°ì ˆ (ìˆ«ìê°€ í´ìˆ˜ë¡ ë¹ ë¦„)
        }, 30);
        
        event.target.interval = interval; // ì¸í„°ë²Œ ID ì €ì¥
      });
    });

    // MODAL LOGIC (ONLY FOR .interactable)
    const modal = document.getElementById('modal-overlay');
    const modalBox = document.querySelector('.modal-box');
    const mTitle = document.getElementById('modal-title');
    const mDesc = document.getElementById('modal-description');
    const mImg = document.getElementById('modal-image');
    const mBtn = document.getElementById('modal-action-btn');

    document.querySelectorAll('.interactable').forEach(card => {
      card.addEventListener('click', () => {
        playClickSound();
        mTitle.innerText = card.getAttribute('data-title');
        mDesc.innerText = card.getAttribute('data-desc');
        mBtn.innerText = card.getAttribute('data-btn') || "CLOSE";
        const imgSrc = card.getAttribute('data-img');
        if(imgSrc) { mImg.src = imgSrc; mImg.style.display = 'block'; } else { mImg.style.display = 'none'; }
        modal.style.display = 'flex'; setTimeout(() => modalBox.classList.add('active'), 10);
      });
    });
    
    document.querySelectorAll('.hover-sfx, .interactable').forEach(el => {
      el.addEventListener('mouseenter', () => { if(Math.random() > 0.7) playStaticSound(); });
    });

    function closeModal() {
      playClickSound(); modalBox.classList.remove('active'); setTimeout(() => modal.style.display = 'none', 200);
    }
    modal.addEventListener('click', (e) => { if(e.target === modal) closeModal(); });
    mBtn.addEventListener('click', () => { playClickSound(); alert("COMMAND EXECUTED"); closeModal(); });

    // BOOT
    const startBtn = document.getElementById('start-btn');
    startBtn.addEventListener('click', () => {
      startBtn.style.display = 'none'; document.getElementById('boot-ui').style.display = 'flex';
      initAudio(); runBoot();
    });
    const logs = ["INITIALIZING...", "LOADING KERNEL...", "DECRYPTING LORE...", "SYSTEM READY."];
    let logIdx = 0;
    function runBoot() {
      if(logIdx < logs.length) {
        document.getElementById('boot-text').innerText += "> " + logs[logIdx++] + "\n";
        playStaticSound(); setTimeout(runBoot, 200);
      } else {
        document.getElementById('boot-bar').style.width = "100%"; document.getElementById('load-percent').innerText = "100%";
        setTimeout(() => { document.getElementById('boot-screen').classList.add('hide'); document.body.classList.remove('loading'); }, 500);
      }
    }

    // ETC
    setInterval(() => {
      const db = Math.floor(Math.random() * 20) + 10;
      document.getElementById('db-meter').innerText = db;
      document.getElementById('db-meter').style.color = db > 25 ? 'red' : 'inherit';
    }, 500);

    const observer = new IntersectionObserver(es => { es.forEach(e => { if(e.isIntersecting) { triggerAlert(); observer.unobserve(e.target); } }) }, {threshold:0.3});
    observer.observe(document.getElementById('security'));

    function triggerAlert() {
      document.getElementById('ip-overlay').style.display = 'flex'; playClickSound();
      let p=0; const intv = setInterval(() => {
        p++; document.getElementById('trace-bar').style.width = p+'%'; document.getElementById('trace-text').innerText = `TRACING... ${p}%`;
        if(p>=100) { clearInterval(intv); document.getElementById('trace-text').innerText = "LOCATION LOCKED"; document.getElementById('trace-text').style.color = "red"; document.getElementById('escape-btn').style.display = "block"; playClickSound(); }
      }, 30);
    }
    function closeAlert() { document.getElementById('ip-overlay').style.display = 'none'; playClickSound(); }
  </script>
</body>
</html>
